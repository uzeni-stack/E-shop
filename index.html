<div id="cart-modal" style="display:none; position:fixed; top:0; right:0; width:300px; height:100%; background:white; z-index:3000; box-shadow:-5px 0 15px rgba(0,0,0,0.2); padding:20px; overflow-y:auto;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2>Váš košík</h2>
        <span onclick="document.getElementById('cart-modal').style.display='none'" style="cursor:pointer; font-size:25px;">&times;</span>
    </div>
    <div id="cart-items-list">
        </div>
    <hr>
    <div style="font-weight:bold; font-size:1.2em; margin-top:10px;">
        Celkem: <span id="total-price">0</span> Kč
    </div>
    <button onclick="objednat()" style="width:100%; background:#27ae60; color:white; border:none; padding:15px; margin-top:20px; border-radius:5px; cursor:pointer; font-weight:bold;">Odeslat objednávku</button>
    <button onclick="vyprazdnitKosik()" style="width:100%; background:#ccc; border:none; padding:10px; margin-top:10px; border-radius:5px; cursor:pointer;">Vysypat košík</button>
</div>

<script>
    let kosikData = [];

    // Tato funkce nahradí tu původní addToCart/doKosiku
    function doKosiku(jmeno, cena) {
        kosikData.push({ jmeno, cena: parseInt(cena) });
        aktualizujKosik();
    }

    function aktualizujKosik() {
        // Aktualizace čísla v liště
        document.getElementById('cart-count').innerText = kosikData.length;
        
        // Aktualizace seznamu v panelu
        const list = document.getElementById('cart-items-list');
        let total = 0;
        list.innerHTML = "";
        
        kosikData.forEach((item, index) => {
            total += item.cena;
            list.innerHTML += `
                <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
                    <span>${item.jmeno}</span>
                    <span>${item.cena} Kč</span>
                </div>
            `;
        });
        
        document.getElementById('total-price').innerText = total;
    }

    function vyprazdnitKosik() {
        kosikData = [];
        aktualizujKosik();
        document.getElementById('cart-modal').style.display = 'none';
    }

    function objednat() {
        if(kosikData.length === 0) return alert("Košík je prázdný!");
        alert("Děkujeme! Objednávka na " + document.getElementById('total-price').innerText + " Kč byla přijata. (Zatím jen testovací režim)");
        vyprazdnitKosik();
    }

    // Funkce pro otevření košíku (přiřaď ji k ikonce košíku v headeru)
    // Uprav v headeru: <div class="cart-status" onclick="document.getElementById('cart-modal').style.display='block'">
</script>
