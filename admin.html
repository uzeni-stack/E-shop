<hr style="margin: 40px 0;">
<h2>Správa nahraných svetrů</h2>
<div id="seznam-mazani">
    </div>

<style>
    .delete-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: white;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 8px;
        border: 1px solid #ddd;
    }
    .btn-delete {
        background: #ff4d4d;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
    }
    .btn-delete:hover { background: #cc0000; }
</style>

<script>
    // TENTO KÓD PŘIDEJ DO SVÉHO <script> SEKCE
    const seznamMazani = document.getElementById('seznam-mazani');

    // Načítání produktů pro smazání
    db.ref('produkty').on('value', (snapshot) => {
        const data = snapshot.val();
        seznamMazani.innerHTML = "";

        if (data) {
            Object.keys(data).forEach(id => {
                const p = data[id];
                seznamMazani.innerHTML += `
                    <div class="delete-item">
                        <div style="display:flex; align-items:center;">
                            <img src="${Array.isArray(p.img) ? p.img[0] : p.img}" style="width:50px; height:50px; object-fit:cover; margin-right:15px; border-radius:4px;">
                            <span><strong>${p.jmeno}</strong> - ${p.cena} Kč</span>
                        </div>
                        <button class="btn-delete" onclick="smazatProdukt('${id}')">Smazat</button>
                    </div>
                `;
            });
        } else {
            seznamMazani.innerHTML = "<p>Žádné produkty k zobrazení.</p>";
        }
    });

    // Funkce pro smazání
    function smazatProdukt(id) {
        if (confirm("Opravdu chceš tento svetr smazat z obchodu?")) {
            db.ref('produkty/' + id).remove()
                .then(() => alert("Smazáno!"))
                .catch(err => alert("Chyba: " + err.message));
        }
    }
</script>
